1. 데이터베이스의 ACID에 관해서 설명해주세요.

> 문진수
>
> ACID는 트랜잭션을 정의하는 4가지 속성을 말합니다. 원자성은 TX의 모든 변경 내역이 반영되거나 반영되지 않아야 함을 의미합니다. 일관성은 TX가 테이블 변경 사항을 적용할 때 미리 정의된 방식(제약조건에 따르는)만을 취해야 함을 말합니다. 영속성은 TX의 실행으로 변경된 데이터가 영구적으로 DB에 반영되어야 함을 의미합니다. 장애가 발생하더라도 데이터는 손실없이 유지되어야 합니다. 격리성은 여러 사용자가 동시에 테이블을 읽고 쓸 때 각각 TX가 격리되어 서로 방해, 간섭하지 않아야 함을 말합니다.

> 백명규
> 
> ACID는 원자성, 일관성, 고립성, 지속성을 의미합니다. 
> 이는 데이터베이스의 트랜잭션에서 필요로 하는 요소로 원자성은 트랜잭션 내에서의 처리가 모두 처리되거나 아닌가를 의미하고 일관성은 DB에서 무결성 등으로
> 제한한 조건에 관해서 트랜잭션이 준수해야 함을 고립성은 동시에 일어나는 다른 트랜잭션에 대해서 영향을 받지 않아야 함을 지속성은 해당 데이터가 임시가 아닌 디스크 등의 장소에 쓰여야 함을 의미합니다.
> 
> ※ 중요한 건 원자성과 지속성이 아닐까..?

---
2. 데이터베이스의 트랜잭션에서 보장하고자 하는 것은 무엇인가요? ACID 중 어떤 특성을 보장하려는 건지 말씀해주세요.

   > 문진수
   >
   > ACID 모두 보장하기 위해 사용됩니다. 트랜잭션은 반드시 원자성을 가져야 하기에 Commit되거나 Rollback 되어야 합니다. 그리고 제약 조건에 맞게 데이터가 변경되어야 합니다. 그뿐만 아니라 여러 TX가 동시에 돌아갈 때 격리 수준 설정에 맞추어 돌아가야 합니다. 그리고 데이터는 영구적으로 데이터베이스에 저장되어야 합니다.

> 백명규
> 
> ACID 모두라고 생각을 합니다. 제가 학습하는 MySQL을 기준으로는 원자성은 명시적인 트랜잭션을 통해, 
> 일관성은 다양한 제약조건을 통해, 고립성은 트랜잭션의 격리 수준을 통해, 지속성은 해당 데이터가 커밋되는 순간 실제 DISK에 작성되는 걸 통해 지키고 있습니다.

---
3. 데이터베이스에서 여러 세션에서 동시에 데이터를 수정하려고 합니다. 
  그러다 세션 간 충돌이 났을 때 데이터베이스는 어떤 선택을 하면 충돌을 처리할 수 있을까요?

  > 문진수
  >
  > 제일 먼저 Lock을 생각해볼 수 있을 것 같습니다. MySQL같은 경우 SELECT FOR UPDATE로 레코드에 락을 잡으면 다른 세션에서 동일한 레코드에 대해 수정하려고 하는 것을 막을 수 있습니다. Lock을 잡은 세션이 끝나 Lock을 반환하면 다른 세션에서 해당 레코드를 수정하게 하면 됩니다.

---
4. Redo 로그와 Undo 로그와 관련해서 설명해주세요.

   > 문진수
   >
   > 리두 로그는 데이터베이스가 비정상적으로 종료되었을 때 손실된 데이터를 복구할 수 있도록 도와주는 역할을 합니다. 버퍼 풀에 존재하는 더티 페이지는 리두 로그 엔트리와 연결되어 있기 때문에 리두 로그의 크기에 따라 버퍼 풀에 유지할 수 있는 더티 페이지의 양이 결정됩니다. 따라서 시스템의 버퍼 풀 사이즈에 맞춰 리두 로그 크기를 적절히 설정하는 것이 성능과 안정성 모두에서 중요합니다.
   >
   > 언두 로그는 트랜잭션의 격리성과 원자성을 보장하기 위해 DML 실행 전에 변경 전 데이터를 저장하는 용도로 사용됩니다. 트랜잭션이 롤백될 경우 언두 로그를 통해 이전 상태로 복구할 수 있고 격리 수준에 따라 언두 로그나 버퍼 풀의 데이터를 참조하여 일관성을 유지하게 됩니다. 트랜잭션이 길어질수록 언두 로그가 쌓이기 때문에 가능하면 트랜잭션은 짧게 유지하는 것이 좋습니다.

---